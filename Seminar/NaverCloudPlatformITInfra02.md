# Network 기초 익히기

## Cable
* 실제 데이터센터에 존재하는 장비들은 cable을 통해 통신하고 있음.
* 자주 사용되는 cable로는 utp cable과 광 cable이 있음
  * utp 저렴함. 일반적으로 많이 사용함
  * 광 비쌈. 원거리의 고속통신을 안정적으로 할 때 사용함
    * 꼽는 방법이 따로 있음.
    * 송수신 모듈이 따로 있기 때문
      * 손으로 가렸을때, 불빛이 보이는 곳이 송신 부분.
      * 빛이 보이는 곳과 보이지 않는 곳을 꼽아야 함.
* cable은 각 타입에 맞는 NIC 혹은 Gbic에 연결시킬 수 있음.

## IP와 MAC 주고
* 장비 간 데이터를 전송하기 위해서도 서로 통신을 위한 주소가 필요함.
  * MAC: 전 세계에서 유일한 하드웨어(NIC) 물리적 주소 제조업체에서 장비를 제작 시 할당되며, 불가변적
  * IP: 네트워크 연결을 위해 제공되는 논리적 주소, IP를 할당하는 주체(ISP or Admin)에 따라 주소가 가변적으로 변경될 수 있음.
    * 오늘과 내일의 IP가 다를 수 있음. 언제든 변경됨.
* 실제 기기간 내부 통신 시에는 IP 주소를 MAC 주소로 변경하여 통신함.
* ARP: IP 주소를 MAC 주소로 변경하는 과정

## IP 주소
* IP는 호스트에서 호스트까지의 통신을 하기 위한 주소와 같음.

## 공인 IP와 사설 IP
### 공인 IP
* 인터넷 상에서 디바이스들이 서로를 인식하고 통신할 수 있게 해주는 고유의 주소
* 공인 IP 주소의 개수는 유한하며, 공인 IP는 돈을 주고 구매해야 하는 유료임
* 언제 어디서든 누구나 함께 통신할 수 있는 공간: Public Network

### 사설 IP
* 일반 가정이나 회사 내에서 사용할 수 있는 주소

### NAT
* IP 주소는 용도에 따라 크게 공인 IP와 사설 IP로 나뉨.
* 공인 IP는 인터넷 사용자의 로컬 네트워크를 식별하기 위해 ISP에서 제공하는 전세계적으로 고유의 주소임.
* 사설 IP는 집이나 사무실 등 한정된 공간 안에서 통신하기 위한 특정 구역 내의 고유의 주소임.

## 다양한 통신 방법

### 유니캐스트
* 1:1
* 특정 목적지로만 프레임을 전달하기에 다른 장비의 성능을 저하시키지 않음.

### 브로드캐스트
* 1:다
* 같은 네트워크 대역의 모든 장비에 보내는 통신임
* 타겟 주소와 수신자 주소가 일치하지 않더라도 패킷을 받아야 함.
  * 받아서 처리해야 하므로, 유니캐스트에 비해 성능이 떨어짐.
* ARP 요청이 브로드캐스트를 통해 이루어짐.
  * MAC 주소를 보내고, 호스트가 해당 MAC을 가졌으면 응답하도록 요청함.

### 멀티캐스트
* 한 번의 송신만으로 특정 그룹에 속한 장비 여럿에 메시지를 보낼 수 있음.
* 스위치/라우터에서 전달받아야 하는 장비 개수만큼 패킷을 복사하여 전송.
* 스위치/라우터에서 멀티캐스트 기능 지원이 필요함.

## 같은 네트워크? 다른 네트워크?

* 같은 네트워크 대역 안에서는 일반적으로 장비들끼리의 통신이 허용되지만, 다른 네트워크 대역에 존재하는 장비와는 특별히 세팅을 하지 않으면 통신할 수 없음.
  * Router를 통해야 다른 장비와 통신할 수 있음.
* 기준은 서브넷(Subnet)이 같은지에 따라 구분됨.

## Subnetting
* 하나의 네트워크를 여러 대역으로 분할하는 것을 뜻함.
* IP 대역을 효율적으로 나누어 사용함으로써 IP 낭비를 줄일 수 있으며, 네트워크를 용도별로 분리하여 보안을 한층 더 강화할 수 있음.
* Q. 사무실에서 192.168.0.0/24 대역의 IP를 할당받았다. 근로자는 100명정도이다.
  * A. 256개 중 100개만 사용하고 156개는 낭비된다.

### IP 주소
* 네트워크/호스트로 나뉨.
  * Network Prefix(브로드캐스트 영역): 하나의 네트워크 영역을 구분짓는 요소이며, 이 영역 안에서의 통신은 라우터를 거치지 않음.
  * Host Number: 하나의 영역 안에서 장비를 구분짓는 요소.
    * subnet number

## 스위치
* 여러 장치를 연결하여 하나의 네트워크를 구성하며, 네트워크 계층에 따라 다양한 역할을 수횅함.
### Learning
* 주소 학습 기능
* 스위치와 연결된 장비가 통신을 위해 프레임을 내보낼 때, 해당 장비의 MAC 주소를 저장함.

### Flooding
* 프레임 전달
* 목적지 MAC 주소를 모를 경우, 들어온 포트를 제외한 나머지 모든 포트로 뿌림

### Forwarding
* 목적지로 전달
* 목적지를 알고잇을때, 프레임을 전달

### Filtering
* 프레임 전달 차단
* 목적지가 아닌 세그먼트로는 프레임이 전달되지 않도록 차단

## 라우터
* 스위치가 발전함에 따라 L3 스위치에서도 라우팅 기능이 제공됨.
* 회근에는 라우터와 L3 스위치를 구분하지 않고 호칭함.

### Path Determination
* 경로 결정
* 출발지로부터 목적지까지 패킷을 어떤 경로로 보낼것인지를 결정하는 역할

### Switching
* 스위칭
* 경로를 찾아내면, 전달해야 함.
* 보내는 작업을 스위칭이라 함.

## 네트워크 가상화
* 클라우드 환경에서는 동적으로 독립적인 가상 네트워크 공간을 제공해야 함.
* 네트워크 환경 뿐만 아니라 로드 밸런싱, 라우팅, 방화벽 역할도 함께 제공함.
* VLAN도 가상화 기술임

## VLAN
* on premiss 환경에서
* 가상 LAN과 같은 기술
* 한 대의 스위치를 분리된 려어 개의 스위치처럼 분리할 수 있게 도와줌.
* 분리된 스위치는 사실상 동일한 물리 포트를 통해 전송됨.
* Trunk: 여러 개의 VLAM을 하나의 링크로 이용할 수 있게 도와주는 기술

## VXLAN
* VLAN에 확장성과 유용성을 더한 기술
* encapsulation protocol
* multicast 통신을 기반으로 Flood&Learn 방식으로 동작
* VNI을 통해 L2의 서브넷을 관리
* 소프트웨어적으로 네트워크를 정의할 수 있게 됨.
* SDN, NFV 기술의 발전으로 새로운 기술이 필요하게 됨.

## VPN
* 외부에서 접근할 수 없는 사설망인 사내 네트워크에 연결하여 사용할 수 있게 도와주는 사설 통신
* IPSec VPN
* SSL VPN: SSL 암호화로 보안함.
  * 네트워크 망과 망을 사용해 연결하는 기술.

# 찾아볼 것
* SDN
* NACL
* NFV
* IPSec

